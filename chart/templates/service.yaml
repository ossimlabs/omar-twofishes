apiVersion: v1
kind: Service
metadata:
  labels: {}
  name: {{ .Values.appName }}-app
spec:
  selector:
    app: {{ .Values.appName }}
  ports:
  - name: {{ .Values.internalPort }}-tcp
    port: {{ .Values.externalPort }}
    protocol: TCP
    targetPort: {{ .Values.internalPort }}
  - name: 8081-tcp
    port: 8081
    protocol: TCP
    targetPort: 8081
  - name: 8082-tcp
    port: 8082
    protocol: TCP
    targetPort: 8082
  - name: 8083-tcp
    port: 8083
    protocol: TCP
    targetPort: 8083
  sessionAffinity: None
  type: ClusterIP
